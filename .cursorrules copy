=== LARAVEL RAG SYSTEM - MAPEAMENTO COMPLETO ===

ğŸ”’ NUNCA MODIFICAR (Backend PHP - 100% funcional):
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Http/Controllers/
â”‚   â”‚   â”œâ”€â”€ Controller.php âœ…
â”‚   â”‚   â”œâ”€â”€ RagController.php âœ… (upload/ingest documentos)
â”‚   â”‚   â””â”€â”€ RagAnswerController.php âœ… (busca RAG PHP)
â”‚   â””â”€â”€ Models/
â”‚       â”œâ”€â”€ User.php âœ…
â”‚       â”œâ”€â”€ UserPlan.php âœ…
â”‚       â”œâ”€â”€ Document.php âœ…
â”‚       â””â”€â”€ Chunk.php âœ…
â”œâ”€â”€ routes/ âœ…
â”œâ”€â”€ config/ âœ…
â”œâ”€â”€ database/migrations/ âœ…
â”œâ”€â”€ composer.json âœ…
â””â”€â”€ .env âœ…

ğŸ”’ NUNCA MODIFICAR (Python - ExtraÃ§Ã£o 100% funcional):
â”œâ”€â”€ scripts/document_extraction/ âœ… (28 arquivos)
â”‚   â”œâ”€â”€ main_extractor.py
â”‚   â”œâ”€â”€ extract.py (PDF)
â”‚   â”œâ”€â”€ office_extractor.py (DOCX/XLSX/PPTX)
â”‚   â”œâ”€â”€ text_extractor.py (TXT/CSV/RTF)
â”‚   â”œâ”€â”€ web_extractor.py (HTML/XML)
â”‚   â””â”€â”€ quality/ (anÃ¡lise qualidade)
â”œâ”€â”€ scripts/api/ âœ… (28 arquivos - FastAPI Enterprise)
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ routers/
â”‚   â”œâ”€â”€ services/
â”‚   â””â”€â”€ models/
â””â”€â”€ scripts/pdf_extraction/ âœ…

ğŸ”’ NUNCA MODIFICAR (Python - RAG Search FINALIZADO):
â””â”€â”€ scripts/rag_search/ âœ… (7 arquivos)
    â”œâ”€â”€ rag_search.py
    â”œâ”€â”€ config.py
    â”œâ”€â”€ database.py
    â”œâ”€â”€ embeddings_service.py (modelo: all-mpnet-base-v2, 768 dims)
    â”œâ”€â”€ vector_search.py
    â”œâ”€â”€ llm_service.py
    â””â”€â”€ requirements.txt
    
    STATUS: 100% FUNCIONAL
    - Busca vetorial: OK
    - LLM Gemini: OK
    - Threshold: 0.05-0.45
    - Top-K: 5-8
    - Tempo resposta: ~6s

---

ARQUITETURA DO SISTEMA:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Laravel PHP                         â”‚
â”‚ â”œâ”€ RagController (upload) âœ…       â”‚
â”‚ â”œâ”€ RagAnswerController (busca) âœ…  â”‚
â”‚ â””â”€ shell_exec() â†’ Python           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Python Scripts                      â”‚
â”‚ â”œâ”€ document_extraction/ âœ…         â”‚
â”‚ â””â”€ rag_search/ âœ… (busca vetorial) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL                          â”‚
â”‚ â”œâ”€ documents (5 docs)               â”‚
â”‚ â”œâ”€ chunks (114 com embeddings)     â”‚
â”‚ â””â”€ Embeddings: 768 dims (mpnet)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

---

STACK TÃ‰CNICO:
- Laravel 11 + PHP 8.4
- Python 3.12
- PostgreSQL 14+
- sentence-transformers (all-mpnet-base-v2, 768d)
- Gemini AI (primary) / OpenAI (fallback)

DADOS DO BANCO:
- 114 chunks com embeddings
- Documentos com embeddings: [9002,34,35,39,36,31,50,14,22,13,16]
- Documento teste: ID 50 (genÃ©rico), ID 36 (REUNI real)

---

ğŸš§ PRÃ“XIMA FASE - FRONTEND:

Frontends existentes para anÃ¡lise:
â”œâ”€â”€ public/front/
â””â”€â”€ public/rag-frontend/

OBJETIVO: 
- Analisar qual frontend usar como base
- Integrar com scripts/rag_search/
- Interface web completa para upload + busca RAG

STATUS: Aguardando anÃ¡lise dos frontends existentes